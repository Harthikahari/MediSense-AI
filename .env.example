# MediSense-AI Environment Configuration
# Copy this file to .env and fill in your actual values

# ================================
# Application Settings
# ================================
ENV=development
HOST=0.0.0.0
PORT=8000
DEBUG=true

# ================================
# Database Configuration
# ================================
POSTGRES_USER=medisense
POSTGRES_PASSWORD=medipass_change_me
POSTGRES_DB=medisense_db
POSTGRES_HOST=db
POSTGRES_PORT=5432
DATABASE_URL=postgresql://medisense:medipass_change_me@db:5432/medisense_db

# ================================
# Redis / Celery Configuration
# ================================
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# ================================
# MCP & LLM Configuration
# ================================
# MCP_MODE options: mock | anthropic
MCP_MODE=mock
ANTHROPIC_API_KEY=your_anthropic_api_key_here
MCP_HOST=http://mcp:8001
MCP_TIMEOUT=30

# ================================
# Vector Database (Chroma)
# ================================
CHROMA_PERSIST_DIR=/data/chroma
CHROMA_HOST=localhost
CHROMA_PORT=8001

# Embedding model
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384

# ================================
# Payment Gateway (Sandbox)
# ================================
PAYMENT_SDK_KEY=test_payment_key_sandbox
PAYMENT_MODE=sandbox
PAYMENT_WEBHOOK_SECRET=webhook_secret_change_me

# ================================
# Email / SMS Notification
# ================================
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=notifications@medisense.ai
SMTP_PASSWORD=smtp_password_change_me
SMTP_FROM_EMAIL=noreply@medisense.ai
SMTP_USE_TLS=true

# SMS Provider (Twilio example)
SMS_PROVIDER=twilio
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# ================================
# Security & Authentication
# ================================
JWT_SECRET=very_secret_jwt_key_change_me_to_random_string
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=60
SECRET_KEY=app_secret_key_change_me_to_random_string

# CORS settings
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# ================================
# Guardrails Configuration
# ================================
GUARDRAILS_ENABLED=true
GUARDRAILS_POLICY_FILE=/app/config/guardrail_policies.yaml
PHI_REDACTION_ENABLED=true

# ================================
# ONNX Model Configuration
# ================================
ONNX_MODEL_PATH=/app/models/symptom_classifier.onnx
ONNX_THREADS=4
ONNX_DEVICE=cpu

# ================================
# OCR Configuration
# ================================
TESSERACT_CMD=/usr/bin/tesseract
OCR_LANGUAGE=eng

# ================================
# Audit & Logging
# ================================
LOG_LEVEL=INFO
AUDIT_ENABLED=true
AUDIT_LOG_PATH=/var/log/medisense/audit.log

# ================================
# RAGAS Evaluation
# ================================
RAGAS_EVAL_DATASET=/app/ragas/testset.jsonl
RAGAS_CONFIG=/app/ragas/ragas_config.yaml

# ================================
# RLHF Configuration
# ================================
RLHF_ENABLED=false
RLHF_DATA_PATH=/app/rlhf/data
RLHF_REWARD_MODEL_PATH=/app/rlhf/models/reward_model

# ================================
# Frontend Configuration
# ================================
REACT_APP_API_URL=http://localhost:8000
REACT_APP_WS_URL=ws://localhost:8000

# ================================
# Performance & Rate Limiting
# ================================
MAX_WORKERS=4
RATE_LIMIT_PER_MINUTE=60
AGENT_TIMEOUT_SECONDS=120
MAX_CONCURRENT_AGENTS=10

# ================================
# Feature Flags
# ================================
FEATURE_IMAGE_ANALYSIS=true
FEATURE_PRESCRIPTION_GEN=true
FEATURE_PAYMENT_INTEGRATION=true
FEATURE_RLHF_FEEDBACK=false
